---
title: Expect
---

import FunctionRenderer from "@site/src/components/FunctionRenderer";
import MatcherRenderer from "@site/src/components/MatcherRenderer";

import expect from "@lest/docs/functions/expect.json";

import toBe from "@lest/docs/matchers/symmetric/toBe.json";

import toHaveBeenCalled from "@lest/docs/matchers/symmetric/toHaveBeenCalled.json";
import toHaveBeenCalledTimes from "@lest/docs/matchers/symmetric/toHaveBeenCalledTimes.json";
import toHaveBeenCalledWith from "@lest/docs/matchers/symmetric/toHaveBeenCalledWith.json";
import toHaveBeenLastCalledWith from "@lest/docs/matchers/symmetric/toHaveBeenLastCalledWith.json";
import toHaveBeenNthCalledWith from "@lest/docs/matchers/symmetric/toHaveBeenNthCalledWith.json";
import toHaveReturned from "@lest/docs/matchers/symmetric/toHaveReturned.json";
import toHaveReturnedTimes from "@lest/docs/matchers/symmetric/toHaveReturnedTimes.json";
import toHaveReturnedWith from "@lest/docs/matchers/symmetric/toHaveReturnedWith.json";
import toHaveLastReturnedWith from "@lest/docs/matchers/symmetric/toHaveLastReturnedWith.json";
import toHaveNthReturnedWith from "@lest/docs/matchers/symmetric/toHaveNthReturnedWith.json";

<FunctionRenderer {...expect}>

```lua
test("returns hello world", function()
	expect(someFunction()).toBe("hello world!")
end)
```

</FunctionRenderer>

## Modifiers

### `.never`

If you need to invert the result of a matcher you can use the `.never` modifier. For example, the code below tests that the answer to life, the universe, and everything is _never_ 42:

```lua
test("doesn't return 42", function()
	expect(deepThought()).never.toBe(42)
end)
```

Note that as with calling matchers directly on `expect()`, you use `.` instead of `:` as Lest binds the received value to the function internally.

:::info

This is the same as the `.not` modifier in Jest. We had to use `never` as `not` is a reserved keyword in Lua.

:::

## Matchers

<MatcherRenderer {...toBe}></MatcherRenderer>

<MatcherRenderer {...toHaveBeenCalled}></MatcherRenderer>

<MatcherRenderer {...toHaveBeenCalledTimes}></MatcherRenderer>

<MatcherRenderer {...toHaveBeenCalledWith}></MatcherRenderer>

<MatcherRenderer {...toHaveBeenLastCalledWith}></MatcherRenderer>

<MatcherRenderer {...toHaveBeenNthCalledWith}></MatcherRenderer>

<MatcherRenderer {...toHaveReturned}></MatcherRenderer>

<MatcherRenderer {...toHaveReturnedTimes}></MatcherRenderer>

<MatcherRenderer {...toHaveReturnedWith}></MatcherRenderer>

<MatcherRenderer {...toHaveLastReturnedWith}></MatcherRenderer>

<MatcherRenderer {...toHaveNthReturnedWith}></MatcherRenderer>
