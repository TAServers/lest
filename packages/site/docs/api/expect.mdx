---
title: Expect
---

import FunctionRenderer from "@site/src/components/FunctionRenderer";
import MatcherRenderer from "@site/src/components/MatcherRenderer";

import expect from "@lest/docs/functions/expect.json";

import toBe from "@lest/docs/matchers/symmetric/toBe.json";
import toBeDefined from "@lest/docs/matchers/symmetric/toBeDefined.json";
import toBeUndefined from "@lest/docs/matchers/symmetric/toBeUndefined.json";
import toBeFalsy from "@lest/docs/matchers/symmetric/toBeFalsy.json";
import toBeTruthy from "@lest/docs/matchers/symmetric/toBeTruthy.json";
import toBeInstanceOf from "@lest/docs/matchers/symmetric/toBeInstanceOf.json";
import toEqual from "@lest/docs/matchers/symmetric/toEqual.json";

import toHaveBeenCalled from "@lest/docs/matchers/symmetric/toHaveBeenCalled.json";
import toHaveBeenCalledTimes from "@lest/docs/matchers/symmetric/toHaveBeenCalledTimes.json";
import toHaveBeenCalledWith from "@lest/docs/matchers/symmetric/toHaveBeenCalledWith.json";
import toHaveBeenLastCalledWith from "@lest/docs/matchers/symmetric/toHaveBeenLastCalledWith.json";
import toHaveBeenNthCalledWith from "@lest/docs/matchers/symmetric/toHaveBeenNthCalledWith.json";
import toHaveReturned from "@lest/docs/matchers/symmetric/toHaveReturned.json";
import toHaveReturnedTimes from "@lest/docs/matchers/symmetric/toHaveReturnedTimes.json";
import toHaveReturnedWith from "@lest/docs/matchers/symmetric/toHaveReturnedWith.json";
import toHaveLastReturnedWith from "@lest/docs/matchers/symmetric/toHaveLastReturnedWith.json";
import toHaveNthReturnedWith from "@lest/docs/matchers/symmetric/toHaveNthReturnedWith.json";

import toBeCloseTo from "@lest/docs/matchers/symmetric/toBeCloseTo.json";
import toBeGreaterThan from "@lest/docs/matchers/symmetric/toBeGreaterThan.json";
import toBeGreaterThanOrEqual from "@lest/docs/matchers/symmetric/toBeGreaterThanOrEqual.json";
import toBeLessThan from "@lest/docs/matchers/symmetric/toBeLessThan.json";
import toBeLessThanOrEqual from "@lest/docs/matchers/symmetric/toBeLessThanOrEqual.json";
import toBeNaN from "@lest/docs/matchers/symmetric/toBeNaN.json";
import toBeInfinity from "@lest/docs/matchers/symmetric/toBeInfinity.json";

import toHaveLength from "@lest/docs/matchers/symmetric/toHaveLength.json";
import toContain from "@lest/docs/matchers/symmetric/toContain.json";
import toContainEqual from "@lest/docs/matchers/symmetric/toContainEqual.json";
import toMatchObject from "@lest/docs/matchers/symmetric/toMatchObject.json";

import toMatch from "@lest/docs/matchers/symmetric/toMatch.json";
import toThrow from "@lest/docs/matchers/symmetric/toThrow.json";

<FunctionRenderer {...expect}>

```lua
test("returns hello world", function()
	expect(someFunction()).toBe("hello world!")
end)
```

</FunctionRenderer>

## Modifiers

### `.never`

If you need to invert the result of a matcher you can use the `.never` modifier. For example, the code below tests that the answer to life, the universe, and everything is _never_ 42:

```lua
test("doesn't return 42", function()
	expect(deepThought()).never.toBe(42)
end)
```

Note that as with calling matchers directly on `expect()`, you use `.` instead of `:` as Lest binds the received value to the function internally.

:::info

This is the same as the `.not` modifier in Jest. We had to use `never` as `not` is a reserved keyword in Lua.

:::

## Equality Matchers

<MatcherRenderer {...toBe}></MatcherRenderer>

<MatcherRenderer {...toEqual}></MatcherRenderer>

<MatcherRenderer {...toBeDefined}></MatcherRenderer>

<MatcherRenderer {...toBeUndefined}></MatcherRenderer>

<MatcherRenderer {...toBeTruthy}></MatcherRenderer>

<MatcherRenderer {...toBeFalsy}></MatcherRenderer>

<MatcherRenderer {...toBeInstanceOf}></MatcherRenderer>

## Mock Function Matchers

<MatcherRenderer {...toHaveBeenCalled}></MatcherRenderer>

<MatcherRenderer {...toHaveBeenCalledTimes}></MatcherRenderer>

<MatcherRenderer {...toHaveBeenCalledWith}></MatcherRenderer>

<MatcherRenderer {...toHaveBeenLastCalledWith}></MatcherRenderer>

<MatcherRenderer {...toHaveBeenNthCalledWith}></MatcherRenderer>

<MatcherRenderer {...toHaveReturned}></MatcherRenderer>

<MatcherRenderer {...toHaveReturnedTimes}></MatcherRenderer>

<MatcherRenderer {...toHaveReturnedWith}></MatcherRenderer>

<MatcherRenderer {...toHaveLastReturnedWith}></MatcherRenderer>

<MatcherRenderer {...toHaveNthReturnedWith}></MatcherRenderer>

## Number Matchers

<MatcherRenderer {...toBeCloseTo}></MatcherRenderer>

<MatcherRenderer {...toBeGreaterThan}></MatcherRenderer>

<MatcherRenderer {...toBeGreaterThanOrEqual}></MatcherRenderer>

<MatcherRenderer {...toBeLessThan}></MatcherRenderer>

<MatcherRenderer {...toBeLessThanOrEqual}></MatcherRenderer>

<MatcherRenderer {...toBeNaN}></MatcherRenderer>

<MatcherRenderer {...toBeInfinity}></MatcherRenderer>

## String Matchers

:::info
Some [table matchers](#table-matchers) also work with strings - e.g. [`.toHaveLength()`](#.toHaveLength)
:::

<MatcherRenderer {...toMatch}></MatcherRenderer>

## Table Matchers

<MatcherRenderer {...toHaveLength}></MatcherRenderer>

<MatcherRenderer {...toContain}></MatcherRenderer>

<MatcherRenderer {...toContainEqual}></MatcherRenderer>

<MatcherRenderer {...toMatchObject}></MatcherRenderer>

## Function Matchers

<MatcherRenderer {...toThrow}></MatcherRenderer>
